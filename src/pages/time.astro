---
import FrontoutLayout from "../layout/frontoutLayout.astro";
---

<FrontoutLayout nav={false}>
	<div class="flex font-medium justify-center items-center align-middle h-screen mt-5 w-screen text-center flex-col">
		<div id="time" class="text-transparent bg-clip-text bg-gradient-to-r from-teal-600 to-white blur-[100%] opacity-85 font-semibold text-8xl">
			02:00:00
		</div>
		<div id="ampm" class="font-bold text-3xl">
			am
		</div>
		<div id="date" class="font-medium text-xl from-teal-700 to-teal-900 text-transparent bg-gradient-to-r bg-clip-text">
			0/0/00
		</div>
		<div class="mt-4 font-medium text-lg from-slate-900 to-teal-300 text-transparent bg-gradient-to-tr bg-clip-text">
			Timezone: AEDT
		</div>
	</div>
</FrontoutLayout>

<script>
function updateTime() {
    const now = new Date();
    
    const sydneyFormat = new Intl.DateTimeFormat('en-AU', {
        timeZone: 'Australia/Sydney',
        hour: 'numeric',
        minute: 'numeric',
        second: 'numeric',
				hour12: true,
    });

    const timeString = sydneyFormat.format(now);
		const ampm = timeString.split(' ')[1];
		
		const timeWithoutAMPM = sydneyFormat.format(now).replace(ampm, '');

    const timeComponent = document.getElementById('time') as HTMLDivElement;
		timeComponent.textContent = timeWithoutAMPM;

		const ampmComponent = document.getElementById('ampm') as HTMLDivElement;
		ampmComponent.textContent = ampm.toUpperCase();
}

function updateDate() {
    const currentDate = new Date();
    
    // Create a DateTimeFormat object for Sydney
    const sydneyFormat = new Intl.DateTimeFormat('en-AU', {
        timeZone: 'Australia/Sydney',
        day: 'numeric',
        month: 'numeric',
        year: 'numeric'
    });

    // Format the date
    const dateString = sydneyFormat.format(currentDate);

    const dateComponent = document.getElementById('date') as HTMLDivElement;
    dateComponent.textContent = dateString;
}

function tick() {
    updateTime();
    updateDate();
}

tick();

setInterval(tick, 100);
</script>
